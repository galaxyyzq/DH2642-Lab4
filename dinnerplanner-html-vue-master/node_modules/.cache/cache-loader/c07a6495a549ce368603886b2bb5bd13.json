{"remainingRequest":"C:\\Users\\zjgz\\Documents\\GitHub\\DH2642-Lab4\\dinnerplanner-html-vue-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\zjgz\\Documents\\GitHub\\DH2642-Lab4\\dinnerplanner-html-vue-master\\node_modules\\eslint-loader\\index.js??ref--18-0!C:\\Users\\zjgz\\Documents\\GitHub\\DH2642-Lab4\\dinnerplanner-html-vue-master\\src\\data\\DinnerModel.js","dependencies":[{"path":"C:\\Users\\zjgz\\Documents\\GitHub\\DH2642-Lab4\\dinnerplanner-html-vue-master\\src\\data\\DinnerModel.js","mtime":1521150235442},{"path":"C:\\Users\\zjgz\\Documents\\GitHub\\DH2642-Lab4\\dinnerplanner-html-vue-master\\package.json","mtime":1521151124189},{"path":"C:\\Users\\zjgz\\Documents\\GitHub\\DH2642-Lab4\\dinnerplanner-html-vue-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1521148147048},{"path":"C:\\Users\\zjgz\\Documents\\GitHub\\DH2642-Lab4\\dinnerplanner-html-vue-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1519636541000},{"path":"C:\\Users\\zjgz\\Documents\\GitHub\\DH2642-Lab4\\dinnerplanner-html-vue-master\\node_modules\\eslint-loader\\index.js","mtime":1519638534000}],"contextDependencies":[],"result":["var httpOptions = {\n  headers: {\n    'X-Mashape-Key': 'Qu9grxVNWpmshA4Kl9pTwyiJxVGUp1lKzrZjsnghQMkFkfA4LB'\n  }\n};\nvar API_URL = \"https://spoonacular-recipe-food-nutrition-v1.p.mashape.com/\";\n\nvar DinnerModel = function DinnerModel() {\n  var numberOfGuests = 4;\n  var observers = [];\n\n  this.setNumberOfGuests = function (num) {\n    numberOfGuests = num;\n    notifyObservers();\n  };\n\n  this.getNumberOfGuests = function () {\n    return numberOfGuests;\n  }; // API Calls\n\n\n  this.getAllDishes = function () {\n    var url = 'https://spoonacular-recipe-food-nutrition-v1.p.mashape.com/recipes/search';\n    return fetch(url, httpOptions).then(processResponse).catch(handleError);\n  }; // API Helper methods\n\n\n  var processResponse = function processResponse(response) {\n    if (response.ok) {\n      return response.json();\n    }\n\n    throw response;\n  };\n\n  var handleError = function handleError(error) {\n    if (error.json) {\n      error.json().then(function (error) {\n        console.error('getAllDishes() API Error:', error.message || error);\n      });\n    } else {\n      console.error('getAllDishes() API Error:', error.message || error);\n    }\n  }; // Observer pattern\n\n\n  this.addObserver = function (observer) {\n    observers.push(observer);\n  };\n\n  this.removeObserver = function (observer) {\n    observers = observers.filter(function (o) {\n      return o !== observer;\n    });\n  };\n\n  var notifyObservers = function notifyObservers() {\n    observers.forEach(function (o) {\n      return o.update();\n    });\n  };\n};\n\nexport var modelInstance = new DinnerModel();",{"version":3,"sources":["src\\data\\DinnerModel.js"],"names":["httpOptions","headers","API_URL","DinnerModel","numberOfGuests","observers","setNumberOfGuests","num","notifyObservers","getNumberOfGuests","getAllDishes","url","fetch","then","processResponse","catch","handleError","response","ok","json","error","console","message","addObserver","observer","push","removeObserver","filter","o","forEach","update","modelInstance"],"mappings":"AAAA,IAAMA,cAAc;AAClBC,WAAS;AAAC,qBAAiB;AAAlB;AADS,CAApB;AAIA,IAAMC,UAAU,6DAAhB;;AAEA,IAAMC,cAAc,SAAdA,WAAc,GAAY;AAE9B,MAAIC,iBAAiB,CAArB;AACA,MAAIC,YAAY,EAAhB;;AAEA,OAAKC,iBAAL,GAAyB,UAAUC,GAAV,EAAe;AACtCH,qBAAiBG,GAAjB;AACAC;AACD,GAHD;;AAKA,OAAKC,iBAAL,GAAyB,YAAY;AACnC,WAAOL,cAAP;AACD,GAFD,CAV8B,CAc9B;;;AAEA,OAAKM,YAAL,GAAoB,YAAY;AAC9B,QAAMC,MAAM,2EAAZ;AACA,WAAOC,MAAMD,GAAN,EAAWX,WAAX,EACJa,IADI,CACCC,eADD,EAEJC,KAFI,CAEEC,WAFF,CAAP;AAGD,GALD,CAhB8B,CAuB9B;;;AAEA,MAAMF,kBAAkB,SAAlBA,eAAkB,CAAUG,QAAV,EAAoB;AAC1C,QAAIA,SAASC,EAAb,EAAiB;AACf,aAAOD,SAASE,IAAT,EAAP;AACD;;AACD,UAAMF,QAAN;AACD,GALD;;AAOA,MAAMD,cAAc,SAAdA,WAAc,CAAUI,KAAV,EAAiB;AACnC,QAAIA,MAAMD,IAAV,EAAgB;AACdC,YAAMD,IAAN,GAAaN,IAAb,CAAkB,iBAAS;AACzBQ,gBAAQD,KAAR,CAAc,2BAAd,EAA2CA,MAAME,OAAN,IAAiBF,KAA5D;AACD,OAFD;AAGD,KAJD,MAIO;AACLC,cAAQD,KAAR,CAAc,2BAAd,EAA2CA,MAAME,OAAN,IAAiBF,KAA5D;AACD;AACF,GARD,CAhC8B,CA0C9B;;;AAEA,OAAKG,WAAL,GAAmB,UAAUC,QAAV,EAAoB;AACrCnB,cAAUoB,IAAV,CAAeD,QAAf;AACD,GAFD;;AAIA,OAAKE,cAAL,GAAsB,UAAUF,QAAV,EAAoB;AACxCnB,gBAAYA,UAAUsB,MAAV,CAAiB;AAAA,aAAKC,MAAMJ,QAAX;AAAA,KAAjB,CAAZ;AACD,GAFD;;AAIA,MAAMhB,kBAAkB,SAAlBA,eAAkB,GAAY;AAClCH,cAAUwB,OAAV,CAAkB;AAAA,aAAKD,EAAEE,MAAF,EAAL;AAAA,KAAlB;AACD,GAFD;AAGD,CAvDD;;AAyDA,OAAO,IAAMC,gBAAgB,IAAI5B,WAAJ,EAAtB","file":"C:\\Users\\zjgz\\Documents\\GitHub\\DH2642-Lab4\\dinnerplanner-html-vue-master\\src\\data\\DinnerModel.js","sourceRoot":"C:\\Users\\zjgz\\Documents\\GitHub\\DH2642-Lab4\\dinnerplanner-html-vue-master","sourcesContent":["const httpOptions = {\r\n  headers: {'X-Mashape-Key': 'Qu9grxVNWpmshA4Kl9pTwyiJxVGUp1lKzrZjsnghQMkFkfA4LB'}\r\n};\r\n\r\nconst API_URL = \"https://spoonacular-recipe-food-nutrition-v1.p.mashape.com/\" \r\n\r\nconst DinnerModel = function () {\r\n\r\n  let numberOfGuests = 4;\r\n  let observers = [];\r\n\r\n  this.setNumberOfGuests = function (num) {\r\n    numberOfGuests = num;\r\n    notifyObservers();\r\n  };\r\n\r\n  this.getNumberOfGuests = function () {\r\n    return numberOfGuests;\r\n  };\r\n\r\n  // API Calls\r\n\r\n  this.getAllDishes = function () {\r\n    const url = 'https://spoonacular-recipe-food-nutrition-v1.p.mashape.com/recipes/search'\r\n    return fetch(url, httpOptions)\r\n      .then(processResponse)\r\n      .catch(handleError)\r\n  }\r\n  \r\n  // API Helper methods\r\n\r\n  const processResponse = function (response) {\r\n    if (response.ok) {\r\n      return response.json()\r\n    }\r\n    throw response;\r\n  }\r\n  \r\n  const handleError = function (error) {\r\n    if (error.json) {\r\n      error.json().then(error => {\r\n        console.error('getAllDishes() API Error:', error.message || error)\r\n      })\r\n    } else {\r\n      console.error('getAllDishes() API Error:', error.message || error)\r\n    }\r\n  }\r\n\r\n  // Observer pattern\r\n\r\n  this.addObserver = function (observer) {\r\n    observers.push(observer);\r\n  };\r\n\r\n  this.removeObserver = function (observer) {\r\n    observers = observers.filter(o => o !== observer);\r\n  };\r\n\r\n  const notifyObservers = function () {\r\n    observers.forEach(o => o.update());\r\n  };\r\n};\r\n\r\nexport const modelInstance = new DinnerModel();\r\n"]}]}